{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "base.html" %}
{% load i18n %}

{% block subtitle %} | {% trans "Local Network" %}{% endblock %}

{% block content %}
<h3>{% trans "Local Network" %}</h3>

{% include "includes/search_form.html" %}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>{% trans "Community" %}</th>
      <th>{% trans "Created" %}</th>
      <th>{% trans "Private" %}</th>
      <th>{% trans "Members" %}</th>
      <th>{% trans "Tagline" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for object in object_list %}
    <tr>
      <td>

        {% if object.is_member %}
        <span class="badge" data-badge="Member">
          {% if object == community %}
          {{ object.name }}
          {% else %}
          <a href="{{ object.get_absolute_url }}">{{ object.name }}</a>
          {% endif %}
        </span>
        {% else %}
        <a href="{{ object.get_absolute_url }}">{{ object.name }}</a>
        {% endif %}

      </td>
      <td>
        {% blocktrans with created=object.created|timesince %}
        {{ created }} ago
        {% endblocktrans %}
      </td>
      <td>
        <label class="form-checkbox">
          <input type="checkbox" readonly{% if not object.public %} checked{% endif %}>
          <i class="form-icon"></i>
        </label>
      </td>
      <td>{{ object.num_members }}</td>
      <td>{{ object.tagline|default:"-"|linebreaksbr }}</td>
    </tr>
    {% endfor %}

  </tbody>
</table>

{% include "includes/pagination.html" %}
{% endblock content %}
