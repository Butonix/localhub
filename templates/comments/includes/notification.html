{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load i18n %}
<div class="tile">
  <div class="tile-content">
    <div class="tile-title">
      {% with comment=notification.comment verb=notification.verb %}
      User <strong>{{ comment.owner.username }}</strong>
      {% if verb == 'mentioned' %}
      has mentioned you in a
      {% elif verb == 'created' %}
      has published a
      {% elif verb == 'updated' %}
      has updated their
      {% elif verb == 'commented' %}
      has posted a
      {% endif %}
      <a href="{{ comment.get_absolute_url }}">comment</a>.
      {% endwith %}
    </div>
  </div>
  {% if not notification.is_read %}
  <div class="tile-action">
    <button class="btn btn-primary float-right"
            data-controller="ajax"
            data-action="ajax#post"
            data-ajax-url="{% url 'comments:mark_notification_read' notification.pk %}"
            >{% trans "Mark as Read" %}</button>
  </div>
  {% endif %}

</div>
