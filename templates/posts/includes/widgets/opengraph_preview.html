{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load i18n %}
<div>
  <div {% if not has_preview %}class="hidden"{% endif %}
       data-target="opengraph-preview.container">
    <div data-target="opengraph-preview.title"
         class="text-sm font-semibold mb-3"></div>

    <div class="flex items-center my-2"
         data-target="opengraph-preview.fullPreview">
      <div class="block mb-1 lg:mb-0 lg:w-1/3 h-auto lg:mr-2">
        <img data-target="opengraph-preview.image"
             {% if preview_image and preview_description %}
             src="{{ preview_image }}"
             loading="lazy"
             {% endif %}
             class="img-responsive">
      </div>
      <blockquote class="text-sm"
                  data-target="opengraph-preview.description">
        {% if preview_image and preview_description %}
        {{ preview_description }}
        {% endif %}
      </blockquote>
    </div>

    <div class="my-2"
         data-target="opengraph-preview.imagePreview">
      <img data-target="opengraph-preview.image"
           {% if preview_image and not preview_description %}
           src="{{ preview_image }}"
           loading="lazy"
           {% endif %}
           class="img-responsive">
    </div>

    <blockquote class="text-sm my-2"
                data-target="opengraph-preview.descriptionPreview"
                data-target="opengraph-preview.description">
        {% if preview_description and not preview_image %}
        {{ preview_description }}
        {% endif %}
    </blockquote>

  </div>

  <div class="flex items-center">
    <div class="flex-grow">
      {% include "django/forms/widgets/input.html" %}
    </div>
    <button type="button"
            class="bg-gray-200 border border-l-0 border-gray-500 p-1"
            title="{% trans 'Fetch content from URL' %}"
            disabled
            data-target="opengraph-preview.fetch"
            data-action="opengraph-preview#fetch">
      {% svg "download" %}
    </button>
    <button type="button"
            class="bg-gray-200 border border-l-0 border-gray-500 p-1"
            title="{% trans 'Remove content from URL' %}"
            {% if not has_preview %}
            disabled
            {% endif %}
            data-target="opengraph-preview.clear"
            data-action="opengraph-preview#clear">
      {% svg "x" %}
    </button>
  </div>
</div>
