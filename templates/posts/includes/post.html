{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "activities/includes/activity_base.html" %}

{% load i18n %}
{% load activities %}
{% load posts %}

{% block list_item_title %}
{% if object.url %}
{{ object.url|linkify:object_title }}
{% else %}
{{ block.super }}
{% endif %}
{% endblock list_item_title %}

{% block content %}

{% with user|is_oembed_url:object.url as is_oembed %}

{% if is_oembed %}
{% include "activities/includes/oembed.html" %}
{% else %}
{% render_opengraph_content user post %}
{% endif %}

{% include "activities/includes/description.html" %}
{% endwith %}
{% endblock content %}
