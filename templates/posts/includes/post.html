{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load i18n %}

<div class="card bg-gray" id="post-{{ post.id }}">
  <div class="card-header">
    {% include "activities/includes/header.html" with object=post %}
  </div>
  <div class="card-body">
    {% if post.is_reshare and not post.parent %}
    {% trans "The original post has been removed." %}
    {% else %}
    {% include "posts/includes/content.html" with object=post %}
    {% endif %}
  </div>
  <div class="card-footer">
    {% if is_detail %}
    {% include "activities/includes/reshares.html" with object=post %}
    {% elif post.num_reshares %}
    <div class="text-gray">
      {{ post.num_reshares }}
      {% blocktrans count counter=post.num_reshares %}
      person has reshared this post
      {% plural %}
      people have reshared this post
      {% endblocktrans %}
    </div>
    {% endif %}
    {% if post.num_likes and post.owner == user %}
    <div class="text-gray">
      {{ post.num_likes }}
      {% blocktrans count counter=post.num_likes %}
      person liked this post
      {% plural %}
      people liked this post
      {% endblocktrans %}
    </div>
    {% endif %}
    <div>
      {% if is_detail %}
      <a href="{{ post.get_permalink }}">{% trans "Permalink" %}</a>
      {% else %}
      {% include "activities/includes/comments_count.html" with object=post %}
      {% endif %}
    </div>
    <div>
      {% include "posts/includes/actions.html" with show_comments=True %}
    </div>
  </div>

</div>
