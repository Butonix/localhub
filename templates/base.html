{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en">

  <head>
    <title>
      {% block title %}
      {% if request.community %}{{ request.community.name }}{% else %}communikit{% endif %}
      {% endblock %}
    </title>
    <meta charset="UTF-8">
    <meta name="intercoolerjs:use-data-prefix" content="true"/>
    <meta name="intercoolerjs:use-actual-http-method" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{% static 'dist/main.css' %}">
  </head>

  <body>
    <div class="container">
      <header class="navbar my-1">
        <section class="navbar-section">
          <a class="navbar-brand mr-2" href="/">
            {% if request.community %}{{ request.community.name }}{% else %}communikit{% endif %}
          </a>
        </section>
        {% if request.community %}
        <section class="navbar-section hide-sm">
          <form method="GET" action="/">
            <div class="input-group input-inline">
              <input class="form-input" name="q" type="search" placeholder="{% trans "Search" %}">
              <button class="btn btn-primary input-group-btn">{% trans "Search" %}</button>
            </div>
          </form>
        </section>
        {% endif %}
        <section class="navbar-section">
          {% with current_url=request.resolver_match.url_name %}
          {% if user.is_authenticated %}
          <a class="btn btn-link" href="{% url 'users:detail' %}">{{ user.username }}</a>
          {% else %}
          <a class="btn btn-link{% if current_url == 'account_login' %} active{% endif %}" href="{% url 'account_login' %}">{% trans "login" %}</a>
          <a class="btn btn-link{% if current_url == 'account_signup' %} active{% endif %}" href="{% url 'account_signup' %}">{% trans "signup" %}</a>
          {% endif %}
          {% endwith %}
        </section>
      </header>
      {% if request.community %}
      <form method="GET" action="/" class="show-sm">
        <div class="input-group input-inline">
          <input class="form-input" name="q" type="search" placeholder="{% trans "Search" %}">
          <button class="btn btn-primary input-group-btn">{% trans "Search" %}</button>
        </div>
      </form>
      {% endif %}
      {% for message in messages %}
      <div class="text-center mb-2 toast toast-{{ message.tags }}">{{ message }}</div>
      {% endfor %}

      {% block content %}
      {% endblock content %}
    </div>
    <script src="{% static 'dist/main.js' %}"></script>
  </body>

</html>
