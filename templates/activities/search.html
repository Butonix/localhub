{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "base.html" %}
{% load i18n %}

{% block subtitle %} | {% trans "Search" %}{% endblock %}

{% block content %}
<h3>{% trans "Search" %}</h3>

<div class="divider"></div>

<form method="GET"
      action="{{ request.path }}"
      data-controller="form search"
      data-action="form#submit"
      class="my-2 search-form">
  <div class="form-group">
    <input class="form-input"
           name="q"
           type="search"
           data-target="search.input"
           data-action="keyup->search#change"
           placeholder="{% trans "Search" %}"
           value="{{ view.search_query }}">
  </div>
  <div class="form-group">
    <select class="form-select d-hide"
            data-controller="js-toggle"
            data-target="search.selector"
            data-action="search#select">
      <option value="">{% trans "Search in..." %}</option>
      <option value="{% url 'posts:list' %}">{% trans "Posts" %}</option>
      <option value="{% url 'events:list' %}">{% trans "Events" %}</option>
      <option value="{% url 'photos:list' %}">{% trans "Photos" %}</option>
      <option value="{% url 'polls:list' %}">{% trans "Polls" %}</option>
      <option value="{% url 'comments:list' %}">{% trans "Comments" %}</option>
      <option value="{% url 'users:member_list' %}">{% trans "Members" %}</option>
      <option value="{% url 'private_messages:inbox' %}">{% trans "Inbox" %}</option>
      <option value="{% url 'private_messages:outbox' %}">{% trans "Outbox" %}</option>
    </select>
  </div>

</form>
{% if object_list %}
<div class="toast text-center mt-2">
  {% blocktrans count counter=paginator.count %}
  1 result found
  {% plural %}
  {{ counter }} results found
  {% endblocktrans %}
</div>
{% endif %}
{% include "activities/includes/activity_list.html" %}
{% endblock content %}