{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ user.username }}{% if request.community %}@{{ request.community.name }}{% endif %}{% endblock %}

{% block content %}
<div class="container">
  <div class="columns" data-controller="sidebar">
    <div class="column col-9 col-sm-12" data-target="sidebar.main">
      <div class="show-sm hide-md float-right">
        <a href="#"
           class="btn btn-link"
           data-action="sidebar#toggle"
           >{% trans "Sidebar" %}</a>
      </div>
      <div class="clearfix"></div>
      {% block users_content %}{% endblock %}
    </div>
    <div class="column col-3 col-sm-12 hide-sm bg-gray p-2" data-target="sidebar.nav">
      <a href="#"
         class="btn btn-link show-sm hide-md"
         data-action="sidebar#toggle"
         >{% trans "Close Sidebar" %}</a>
      <ul class="menu">
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'users:update' %}">{% trans "Edit profile" %}</a>
        </li>
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'account_email' %}">{% trans "Email addresses" %}</a>
        </li>
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'account_change_password' %}">{% trans "Change password" %}</a>
        </li>
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'communities:user_membership_list' %}">{% trans "Memberships" %}</a>
        </li>
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'account_logout' %}">{% trans "Logout" %}</a>
        </li>
        <li class="menu-item">
          <a data-controller="active-link" href="{% url 'users:delete' %}" class="text-warning">{% trans "Delete account" %}</a>
        </li>
      </ul>
    </div>
  </div>
  {% endblock %}
