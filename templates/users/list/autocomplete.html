{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load account %}
{% load users %}

{% for user_obj in object_list %}
<li class="p-1 hover:bg-gray-500 hover:text-white {% if forloop.first %} bg-gray-500 text-white selected{% endif %}"
    data-action="typeahead#select"
    data-typeahead-value="{{ user_obj.username }}"
    data-typeahead-key="@">
  <div class="flex items-center">
    <span class="inline-block mr-2">
      {% avatar user_obj "32" css_class="mr-1 h-6 w-6 text-sm" %}
    </span>
    <span class="inline-block">
      {% user_display user_obj as display_name %}
      {% if display_name == user_obj.username %}
      @{{ display_name }}
      {% else %}
      {{ display_name }} (@{{ user_obj.username }})
      {% endif %}
    </span>
  </div>
</li>
{% endfor %}
