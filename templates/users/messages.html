{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "users/user_detail_base.html" %}

{% load i18n %}
{% load account %}
{% load rules %}
{% load private_messages_tags %}
{% load users_tags %}

{% block user_content %}

{% if is_current_user %}

{% if unread_messages %}
<div class="my-2 toast text-center">
  {% blocktrans count counter=unread_messages %}
  You have <strong>1 unread message</strong>.
  {% plural %}
  You have <strong>1 unread messages</strong>.
  {% endblocktrans %}
</div>
{% else %}
<div class="my-2 toast text-center">
  {% blocktrans count counter=paginator.count %}
  You have exchanged <strong>1 message</strong>.
  {% plural %}
  You have exchanged <strong>{{ counter }} messages</strong>.
  {% endblocktrans %}
</div>
{% endif %}

{% else %}

{% if unread_messages %}
<div class="my-2 toast text-center">
  {% blocktrans count counter=unread_messages %}
  You have <strong>1 unread message</strong> from {{ display_name }}.
  {% plural %}
  You have <strong>1 unread messages</strong> from {{ display_name }}.
  {% endblocktrans %}
</div>
{% else %}
<div class="my-2 toast text-center">
  {% blocktrans count counter=paginator.count %}
  You have exchanged <strong>1 message</strong> with {{ display_name }}.
  {% plural %}
  You have exchanged <strong>{{ counter }} messages</strong> with {{ display_name }}.
  {% endblocktrans %}
</div>
{% endif %}

{% endif %}

{% include "private_messages/includes/email_settings.html" %}

{% if object_list %}
{% for message in object_list %}
{% show_message user community message %}
{% endfor %}
{% include "includes/pagination.html" %}
{% else %}
{% include "includes/empty.html" %}
{% endif %}
{% endblock user_content %}
