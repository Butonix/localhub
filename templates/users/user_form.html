{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "users/account_base.html" %}

{% load i18n %}
{% load socialaccount %}
Â {% load rules %}
{% load users %}

{% block subtitle %} / {% trans "Settings" %}{% endblock %}

{% block content %}

{% dismissable user "profile-settings" %}
{% blocktrans %}
Your settings apply to all communities you belong to.
{% endblocktrans %}
{% enddismissable %}

<h1 class="page-header">{% trans "Settings" %}</h1>


<div class="actions mb-1">

  {% has_perm "communities.manage_community" user community as can_manage_community %}

  {% if can_manage_community %}
  <a class="action"
     href="{% url 'communities:community_update' %}">{% trans "Community Settings" %}</a>
  {% endif %}

  <a class="action"
     href="{% url 'account_email' %}">{% trans "Email Addresses" %}</a>
  {% get_providers as socialaccount_providers %}
  {% if socialaccount_providers %}
  <a class="action"
     href="{% url 'socialaccount_connections' %}">{% trans "Social Logins" %}</a>
  {% endif %}
  <a class="action"
     href="{% url 'account_change_password' %}">{% trans "Change Password" %}</a>
  <a class="action"
     href="{% url 'user_delete' %}">{% trans "Delete Account" %}</a>
</div>

{% trans "Save Settings" as t_save_settings %}
{% include "includes/forms/stimulusjs_form.html" with submit_btn=t_save_settings %}
{% endblock content %}
