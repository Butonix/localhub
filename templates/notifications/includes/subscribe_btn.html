{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load i18n %}

{% if user.is_authenticated %}
<div class="{{ css_class|default:"mb-2" }} d-none"
     data-controller="notifications"
     data-notifications-service-worker-url="{% url 'notifications:service_worker' %}"
     data-notifications-subscribe-url="{% url 'notifications:subscribe' %}"
     data-notifications-unsubscribe-url="{% url 'notifications:unsubscribe' %}"
     {% if vapid_public_key %}
     data-notifications-vapid-public-key="{{ vapid_public_key }}"
     {% endif %}>
  <button class="btn btn-block d-none"
          href="#"
          data-target="notifications.subscribeBtn"
          data-action="notifications#subscribe">
    {% trans "Enable browser push notifications" %}
  </button>
  <button class="btn btn-block d-none"
          href="#"
          data-target="notifications.unsubscribeBtn"
          data-action="notifications#unsubscribe">
    {% trans "Disable browser push notifications" %}
  </button>
</div>
{% endif %}