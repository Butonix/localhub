{# Copyright (c) 2020 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% load i18n %}

{% if user.is_authenticated and webpush_enabled %}
<div class="{{ css_class|default:"mb-2" }} hidden"
     data-controller="webpush"
     data-webpush-service-worker-url="{% url 'notifications:service_worker' %}"
     data-webpush-subscribe-url="{% url 'notifications:subscribe' %}"
     data-webpush-unsubscribe-url="{% url 'notifications:unsubscribe' %}"
     {% if vapid_public_key %}
     data-webpush-vapid-public-key="{{ vapid_public_key }}"
     {% endif %}>
  <button class="btn btn-block hidden"
          href="#"
          data-target="webpush.subscribeBtn"
          data-action="webpush#subscribe">
    {% trans "Enable browser push notifications" %}
  </button>
  <button class="btn btn-block hidden"
          href="#"
          data-target="webpush.unsubscribeBtn"
          data-action="webpush#unsubscribe">
    {% trans "Disable browser push notifications" %}
  </button>
</div>
{% endif %}
